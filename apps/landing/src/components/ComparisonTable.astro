---
interface Props {
    competitorName: string;
    features: Record<string, { maple: string | boolean; competitor: string | boolean }>;
    featureOrder: string[];
}

const { competitorName, features, featureOrder } = Astro.props;
---

<section class="py-16 md:py-24">
    <div class="mx-auto max-w-4xl px-6">
        <div class="border border-border">
            <!-- Header row -->
            <div class="grid grid-cols-[1fr_80px_80px] sm:grid-cols-[1fr_120px_120px] border-b border-border px-4 pb-3 pt-3">
                <span class="text-[10px] uppercase tracking-wider text-fg-muted">Feature</span>
                <span class="text-[10px] uppercase tracking-wider text-accent text-center">Maple</span>
                <span class="text-[10px] uppercase tracking-wider text-fg-muted text-center">{competitorName}</span>
            </div>

            <!-- Feature rows -->
            {featureOrder.map((featureName, index) => {
                const feature = features[featureName];
                if (!feature) return null;
                const isLast = index === featureOrder.length - 1;
                return (
                    <div class:list={["grid grid-cols-[1fr_80px_80px] sm:grid-cols-[1fr_120px_120px] px-4", !isLast && "border-b border-border"]}>
                        <span class="py-4 text-sm text-fg">{featureName}</span>
                        <div class="py-4 flex items-center justify-center bg-accent/5">
                            {typeof feature.maple === "boolean" ? (
                                feature.maple ? (
                                    <svg class="w-4 h-4 text-green-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>
                                ) : (
                                    <svg class="w-4 h-4 text-red-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
                                )
                            ) : (
                                <span class="text-sm text-fg">{feature.maple}</span>
                            )}
                        </div>
                        <div class="py-4 flex items-center justify-center">
                            {typeof feature.competitor === "boolean" ? (
                                feature.competitor ? (
                                    <svg class="w-4 h-4 text-green-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>
                                ) : (
                                    <svg class="w-4 h-4 text-red-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
                                )
                            ) : (
                                <span class="text-sm text-fg-muted">{feature.competitor}</span>
                            )}
                        </div>
                    </div>
                );
            })}
        </div>
    </div>
</section>
